{"version":3,"sources":["webpack:///chess.js","webpack:///webpack/bootstrap 36db4f7be903a2d3e943","webpack:///./src/app.js","webpack:///./~/babel-runtime/helpers/class-call-check.js","webpack:///./~/babel-runtime/helpers/interop-require-default.js","webpack:///./~/babel-runtime/helpers/create-class.js","webpack:///./src/models/chess/chess/chessman.js","webpack:///./src/models/chess/chess/color.js","webpack:///./src/models/chess/chess/type.js","webpack:///./~/babel-runtime/helpers/get.js","webpack:///./~/babel-runtime/helpers/inherits.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.core.js","webpack:///./src/models/chess/state.js","webpack:///./src/models/chess/type.js","webpack:///./src/setting.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.def.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.is-object.js","webpack:///./src/controllers/chess.js","webpack:///./src/controllers/chessboard.js","webpack:///./src/models/chess/chess/cannon.js","webpack:///./src/models/chess/chess/chariot.js","webpack:///./src/models/chess/chess/factory.js","webpack:///./src/models/chess/chess/general.js","webpack:///./src/models/chess/chess/guard.js","webpack:///./src/models/chess/chess/horse.js","webpack:///./src/models/chess/chess/soldier.js","webpack:///./src/models/chess/chess/staff.js","webpack:///./src/models/chess/game.js","webpack:///./src/models/chess/player.js","webpack:///./~/babel-runtime/core-js/object/create.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./~/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/create.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/define-property.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/set-prototype-of.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.a-function.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.an-object.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.cof.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.ctx.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.defined.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.fails.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.global.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iobject.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.object-sap.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.set-proto.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.to-iobject.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.object.set-prototype-of.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","_controllersChess","_controllersChess2","_controllersChessboard","_controllersChessboard2","angular","controller","instance","Constructor","TypeError","__esModule","obj","default","_Object$defineProperty","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_createClass","_classCallCheck","Object","defineProperty","value","ChessMan","color","type","this","game","x","y","beAttack","ChessColor","RED","BLACK","GREY","ChessType","GENERAL","GUARD","STAFF","HORSE","CHARIOT","CANNON","SOLDIER","BLANK","_Object$getOwnPropertyDescriptor","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","get","getPrototypeOf","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","__proto__","$Object","create","getProto","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","setDescs","getKeys","keys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","each","forEach","core","__e","GameState","UNINITIALIZED","FINISHED","READY","ACTING","PlayerType","LOCAL","REMOTE","Setting","offsetX","offsetY","gridSize","global","PROTOTYPE","ctx","fn","that","apply","arguments","$def","name","source","own","out","exp","isGlobal","G","isProto","P","S","F","B","W","C","param","it","_modelsChessChessColor","_modelsChessChessColor2","_modelsChessState","_modelsChessType","_modelsChessType2","_modelsChessGame","_modelsChessGame2","_modelsChessPlayer","_modelsChessPlayer2","_setting","_setting2","ChessController","$scope","games","createGame","redPlayer","blackPlayer","init","push","chessX","chess","chessY","canGoX","canGoY","canAttackX","canAttackY","select","currentPlayer","move","position","attack","colors","1","0","-1","types","symbol","$inject","ChessBoardController","pathArr","drawLine","j","concat","drawStar","x1","y1","x2","y2","arr","distance","startX","startY","endX","endY","_get","_inherits","_chessman","_chessman2","_type","_type2","_color","Cannon","_ChessMan","valid","isFriendly","isEmpty","count","Chariot","_general","_general2","_guard","_guard2","_staff","_staff2","_horse","_horse2","_chariot","_chariot2","_cannon","_cannon2","_soldier","_soldier2","ChessFactory","ChessTypes","createChess","data","_color2","General","result","Math","abs","getChess","num","minY","maxY","Guard","Horse","Soldier","Staff","_state","_state2","_chessType","_chessType2","_chessFactory","_chessFactory2","Game","initialSituation","defaultChesses","state","history","situation","watchers","currentChess","undoList","redoList","chessUnderAttack","generals","chesses","moveablePlaces","loggers","_this","prompt","checkFinish","canKill","filter","step","moveChess","canGo","newX","newY","fromX","fromY","toX","toY","executeStep","k","text","alert","logger","log","watcher","notify","_this2","newSteps","slice","isUndo","killedChess","winner","Color","deadColor","deadChess","deadType","check","pop","json","user","Player","moveTo","$","D","setPrototypeOf","isObject","toString","aFunction","a","b","exec","e","UNDEFINED","window","self","__g","cof","split","KEY","anObject","O","proto","set","buggy","IObject","defined","toIObject","$getOwnPropertyDescriptor"],"mappings":"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","file":"chess.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tvar _controllersChess = __webpack_require__(16);\n\t\n\tvar _controllersChess2 = _interopRequireDefault(_controllersChess);\n\t\n\tvar _controllersChessboard = __webpack_require__(17);\n\t\n\tvar _controllersChessboard2 = _interopRequireDefault(_controllersChessboard);\n\t\n\tangular.module(\"chess\", []).controller(\"ChessController\", _controllersChess2[\"default\"]).controller(\"ChessBoardController\", _controllersChessboard2[\"default\"]);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports[\"default\"] = function (instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _Object$defineProperty = __webpack_require__(29)[\"default\"];\n\t\n\texports[\"default\"] = (function () {\n\t  function defineProperties(target, props) {\n\t    for (var i = 0; i < props.length; i++) {\n\t      var descriptor = props[i];\n\t      descriptor.enumerable = descriptor.enumerable || false;\n\t      descriptor.configurable = true;\n\t      if (\"value\" in descriptor) descriptor.writable = true;\n\t\n\t      _Object$defineProperty(target, descriptor.key, descriptor);\n\t    }\n\t  }\n\t\n\t  return function (Constructor, protoProps, staticProps) {\n\t    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n\t    if (staticProps) defineProperties(Constructor, staticProps);\n\t    return Constructor;\n\t  };\n\t})();\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar ChessMan = (function () {\n\t\tfunction ChessMan(color, type) {\n\t\t\t_classCallCheck(this, ChessMan);\n\t\n\t\t\tthis.game = null;\n\t\n\t\t\tthis.color = color;\n\t\t\tthis.type = type;\n\t\t\tthis.x = -1;\n\t\t\tthis.y = -1;\n\t\n\t\t\tthis.beAttack = false;\n\t\t}\n\t\n\t\t/**\n\t  * 棋子在某位置是否合法，对于不受限制的车，马，炮，这个值始终为真，其他类型需要override这个方法\n\t  * @param x\n\t  * @param y\n\t  * @returns {boolean}\n\t  */\n\t\n\t\t_createClass(ChessMan, [{\n\t\t\tkey: \"valid\",\n\t\t\tvalue: function valid(x, y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn ChessMan;\n\t})();\n\t\n\texports[\"default\"] = ChessMan;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar ChessColor = {\n\t\tRED: 1,\n\t\tBLACK: -1,\n\t\tGREY: 0\n\t};\n\t\n\texports[\"default\"] = ChessColor;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar ChessType = {\n\t\tGENERAL: 7,\n\t\tGUARD: 6,\n\t\tSTAFF: 5,\n\t\tHORSE: 4,\n\t\tCHARIOT: 3,\n\t\tCANNON: 2,\n\t\tSOLDIER: 1,\n\t\tBLANK: 0\n\t};\n\t\n\texports[\"default\"] = ChessType;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _Object$getOwnPropertyDescriptor = __webpack_require__(30)[\"default\"];\n\t\n\texports[\"default\"] = function get(_x, _x2, _x3) {\n\t  var _again = true;\n\t\n\t  _function: while (_again) {\n\t    var object = _x,\n\t        property = _x2,\n\t        receiver = _x3;\n\t    desc = parent = getter = undefined;\n\t    _again = false;\n\t    if (object === null) object = Function.prototype;\n\t\n\t    var desc = _Object$getOwnPropertyDescriptor(object, property);\n\t\n\t    if (desc === undefined) {\n\t      var parent = Object.getPrototypeOf(object);\n\t\n\t      if (parent === null) {\n\t        return undefined;\n\t      } else {\n\t        _x = parent;\n\t        _x2 = property;\n\t        _x3 = receiver;\n\t        _again = true;\n\t        continue _function;\n\t      }\n\t    } else if (\"value\" in desc) {\n\t      return desc.value;\n\t    } else {\n\t      var getter = desc.get;\n\t\n\t      if (getter === undefined) {\n\t        return undefined;\n\t      }\n\t\n\t      return getter.call(receiver);\n\t    }\n\t  }\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _Object$create = __webpack_require__(28)[\"default\"];\n\t\n\tvar _Object$setPrototypeOf = __webpack_require__(31)[\"default\"];\n\t\n\texports[\"default\"] = function (subClass, superClass) {\n\t  if (typeof superClass !== \"function\" && superClass !== null) {\n\t    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t  }\n\t\n\t  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n\t    constructor: {\n\t      value: subClass,\n\t      enumerable: false,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar GameState = {\n\t\tUNINITIALIZED: -1,\n\t\tFINISHED: 0,\n\t\tREADY: 1,\n\t\tACTING: 2\n\t};\n\t\n\texports[\"default\"] = GameState;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar PlayerType = {\n\t\tLOCAL: 0,\n\t\tREMOTE: 1\n\t};\n\t\n\texports[\"default\"] = PlayerType;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar Setting = function Setting() {\n\t  _classCallCheck(this, Setting);\n\t};\n\t\n\texports[\"default\"] = Setting;\n\t\n\tSetting.offsetX = 40;\n\tSetting.offsetY = 40;\n\tSetting.gridSize = 60;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(42)\n\t  , core      = __webpack_require__(10)\n\t  , PROTOTYPE = 'prototype';\n\tvar ctx = function(fn, that){\n\t  return function(){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\tvar $def = function(type, name, source){\n\t  var key, own, out, exp\n\t    , isGlobal = type & $def.G\n\t    , isProto  = type & $def.P\n\t    , target   = isGlobal ? global : type & $def.S\n\t        ? global[name] : (global[name] || {})[PROTOTYPE]\n\t    , exports  = isGlobal ? core : core[name] || (core[name] = {});\n\t  if(isGlobal)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !(type & $def.F) && target && key in target;\n\t    if(own && key in exports)continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    if(isGlobal && typeof target[key] != 'function')exp = source[key];\n\t    // bind timers to global for call from export context\n\t    else if(type & $def.B && own)exp = ctx(out, global);\n\t    // wrap global constructors for prevent change them in library\n\t    else if(type & $def.W && target[key] == out)!function(C){\n\t      exp = function(param){\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      exp[PROTOTYPE] = C[PROTOTYPE];\n\t    }(out);\n\t    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    // export\n\t    exports[key] = exp;\n\t    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$def.F = 1;  // forced\n\t$def.G = 2;  // global\n\t$def.S = 4;  // static\n\t$def.P = 8;  // proto\n\t$def.B = 16; // bind\n\t$def.W = 32; // wrap\n\tmodule.exports = $def;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t// http://jsperf.com/core-js-isobject\n\tmodule.exports = function(it){\n\t  return it !== null && (typeof it == 'object' || typeof it == 'function');\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _modelsChessChessColor = __webpack_require__(5);\n\t\n\tvar _modelsChessChessColor2 = _interopRequireDefault(_modelsChessChessColor);\n\t\n\tvar _modelsChessState = __webpack_require__(11);\n\t\n\tvar _modelsChessState2 = _interopRequireDefault(_modelsChessState);\n\t\n\tvar _modelsChessType = __webpack_require__(12);\n\t\n\tvar _modelsChessType2 = _interopRequireDefault(_modelsChessType);\n\t\n\tvar _modelsChessGame = __webpack_require__(26);\n\t\n\tvar _modelsChessGame2 = _interopRequireDefault(_modelsChessGame);\n\t\n\tvar _modelsChessPlayer = __webpack_require__(27);\n\t\n\tvar _modelsChessPlayer2 = _interopRequireDefault(_modelsChessPlayer);\n\t\n\tvar _setting = __webpack_require__(13);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tvar ChessController = function ChessController($scope) {\n\t\t_classCallCheck(this, ChessController);\n\t\n\t\t$scope.games = [];\n\t\n\t\t$scope.createGame = function () {\n\t\t\tvar game = new _modelsChessGame2[\"default\"]();\n\t\n\t\t\tvar redPlayer = new _modelsChessPlayer2[\"default\"](\"Local Player 1\", _modelsChessChessColor2[\"default\"].RED, _modelsChessType2[\"default\"].LOCAL);\n\t\t\tredPlayer.game = game;\n\t\t\tgame.redPlayer = redPlayer;\n\t\n\t\t\tvar blackPlayer = new _modelsChessPlayer2[\"default\"](\"Local Player 2\", _modelsChessChessColor2[\"default\"].BLACK, _modelsChessType2[\"default\"].LOCAL);\n\t\t\tblackPlayer.game = game;\n\t\t\tgame.blackPlayer = blackPlayer;\n\t\n\t\t\tgame.init();\n\t\n\t\t\t//game.addLogger(ConsoleLogger);\n\t\t\t$scope.games.push(game);\n\t\t};\n\t\n\t\t$scope.chessX = function (chess) {\n\t\t\treturn _setting2[\"default\"].offsetX + chess.x * _setting2[\"default\"].gridSize;\n\t\t};\n\t\t$scope.chessY = function (chess) {\n\t\t\treturn _setting2[\"default\"].offsetY + chess.y * _setting2[\"default\"].gridSize;\n\t\t};\n\t\n\t\t$scope.canGoX = function (chess) {\n\t\t\treturn _setting2[\"default\"].offsetX + (chess.x - 0.5) * _setting2[\"default\"].gridSize;\n\t\t};\n\t\t$scope.canGoY = function (chess) {\n\t\t\treturn _setting2[\"default\"].offsetY + (chess.y - 0.5) * _setting2[\"default\"].gridSize;\n\t\t};\n\t\n\t\t$scope.canAttackX = function (chess) {\n\t\t\treturn _setting2[\"default\"].offsetX + (chess.x - 0.5) * _setting2[\"default\"].gridSize;\n\t\t};\n\t\t$scope.canAttackY = function (chess) {\n\t\t\treturn _setting2[\"default\"].offsetY + (chess.y - 0.5) * _setting2[\"default\"].gridSize;\n\t\t};\n\t\n\t\t$scope.select = function (game, chess) {\n\t\t\treturn game.currentPlayer.select(chess);\n\t\t};\n\t\t$scope.move = function (game, position) {\n\t\t\treturn game.currentPlayer.move(position);\n\t\t};\n\t\t$scope.attack = function (game, position) {\n\t\t\treturn game.currentPlayer.attack(position);\n\t\t};\n\t\n\t\tvar colors = {\n\t\t\t\"1\": \"red\",\n\t\t\t\"0\": \"\",\n\t\t\t\"-1\": \"black\"\n\t\t};\n\t\n\t\tvar types = [\"blank\", \"soldier\", \"cannon\", \"chariot\", \"horse\", \"staff\", \"guard\", \"general\"];\n\t\n\t\t$scope.symbol = function (chess) {\n\t\t\treturn \"#\" + colors[chess.color] + \"-\" + types[chess.type];\n\t\t};\n\t};\n\t\n\texports[\"default\"] = ChessController;\n\t\n\tChessController.$inject = [\"$scope\"];\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _setting = __webpack_require__(13);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tvar ChessBoardController = function ChessBoardController($scope) {\n\t\t_classCallCheck(this, ChessBoardController);\n\t\n\t\t$scope.offsetX = _setting2[\"default\"].offsetX;\n\t\t$scope.offsetY = _setting2[\"default\"].offsetY;\n\t\t$scope.gridSize = _setting2[\"default\"].gridSize;\n\t\t$scope.pathArr = [];\n\t\n\t\tinit();\n\t\n\t\tfunction init() {\n\t\t\tvar pathArr = [];\n\t\n\t\t\t// 横线\n\t\t\tfor (var i = 1; i < 9; i++) {\n\t\t\t\tpathArr.push(drawLine(0, i, 8, i));\n\t\t\t}\n\t\n\t\t\t// 竖线\n\t\t\tfor (var i = 1; i < 8; i++) {\n\t\t\t\tpathArr.push(drawLine(i, 0, i, 4));\n\t\t\t\tpathArr.push(drawLine(i, 5, i, 9));\n\t\t\t}\n\t\n\t\t\t// 九宫格的线\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 0; j < 2; j++) {\n\t\t\t\t\tpathArr.push(drawLine(3 + 2 * i, 7 * j, 5 - 2 * i, 2 + 7 * j));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 炮位\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 0; j < 2; j++) {\n\t\t\t\t\tpathArr = pathArr.concat(drawStar(1 + i * 6, 2 + j * 5));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 兵位\n\t\t\tfor (var i = 0; i < 5; i++) {\n\t\t\t\tfor (var j = 0; j < 2; j++) {\n\t\t\t\t\tpathArr = pathArr.concat(drawStar(i * 2, 3 + j * 3));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$scope.pathArr = pathArr;\n\t\t}\n\t\n\t\t// 生成线的路径\n\t\tfunction drawLine(x1, y1, x2, y2) {\n\t\t\treturn \"M\" + (_setting2[\"default\"].offsetX + x1 * _setting2[\"default\"].gridSize) + \",\" + (_setting2[\"default\"].offsetY + y1 * _setting2[\"default\"].gridSize) + \" L\" + (_setting2[\"default\"].offsetX + x2 * _setting2[\"default\"].gridSize) + \",\" + (_setting2[\"default\"].offsetY + y2 * _setting2[\"default\"].gridSize);\n\t\t}\n\t\n\t\t// 生成十字花\n\t\tfunction drawStar(x, y) {\n\t\t\tvar arr = [];\n\t\t\tvar distance = 1 / 10;\n\t\t\tvar length = 1 / 4;\n\t\n\t\t\tvar startX = undefined,\n\t\t\t    startY = undefined,\n\t\t\t    endX = undefined,\n\t\t\t    endY = undefined;\n\t\n\t\t\t// 左边画一半\n\t\t\tif (x != 0) {\n\t\t\t\tstartX = x - distance;\n\t\t\t\tstartY = y - distance - length;\n\t\t\t\tendX = x - distance - length;\n\t\t\t\tendY = y - distance;\n\t\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\t\n\t\t\t\tstartY = y + distance + length;\n\t\t\t\tendY = y + distance;\n\t\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\t\t\t}\n\t\n\t\t\t// 右边画一半\n\t\t\tif (x != 8) {\n\t\t\t\tstartX = x + distance;\n\t\t\t\tstartY = y - distance - length;\n\t\t\t\tendX = x + distance + length;\n\t\t\t\tendY = y - distance;\n\t\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\t\n\t\t\t\tstartY = y + distance + length;\n\t\t\t\tendY = y + distance;\n\t\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\t\t\t}\n\t\n\t\t\treturn arr;\n\t\t}\n\t};\n\t\n\texports[\"default\"] = ChessBoardController;\n\t\n\tChessBoardController.$inject = [\"$scope\"];\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar Cannon = (function (_ChessMan) {\n\t\t_inherits(Cannon, _ChessMan);\n\t\n\t\tfunction Cannon(color) {\n\t\t\t_classCallCheck(this, Cannon);\n\t\n\t\t\t_get(Object.getPrototypeOf(Cannon.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].CANNON);\n\t\t}\n\t\n\t\t_createClass(Cannon, [{\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tif (this.x != x && this.y != y) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.game.isEmpty(x, y)) {\n\t\t\t\t\t\t\tif (this.y == y) {\n\t\t\t\t\t\t\t\tif (this.x < x) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.x + 1; i < x; i++) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.x > x) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.x - 1; i > x; i--) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (this.y < y) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.y + 1; i < y; i++) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.y > y) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.y - 1; i > y; i--) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar count = 0;\n\t\n\t\t\t\t\t\t\tif (this.y == y) {\n\t\t\t\t\t\t\t\tif (this.x < x) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.x + 1; i < x; i++) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.x > x) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.x - 1; i > x; i--) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (this.y < y) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.y + 1; i < y; i++) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.y > y) {\n\t\t\t\t\t\t\t\t\tfor (var i = this.y - 1; i > y; i--) {\n\t\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Cannon;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = Cannon;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar Chariot = (function (_ChessMan) {\n\t\t_inherits(Chariot, _ChessMan);\n\t\n\t\tfunction Chariot(color) {\n\t\t\t_classCallCheck(this, Chariot);\n\t\n\t\t\t_get(Object.getPrototypeOf(Chariot.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].CHARIOT);\n\t\t}\n\t\n\t\t_createClass(Chariot, [{\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tif (this.x != x && this.y != y) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.y == y) {\n\t\t\t\t\t\t\tif (this.x < x) {\n\t\t\t\t\t\t\t\tfor (var i = this.x + 1; i < x; i++) {\n\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (this.x > x) {\n\t\t\t\t\t\t\t\tfor (var i = this.x - 1; i > x; i--) {\n\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.y < y) {\n\t\t\t\t\t\t\t\tfor (var i = this.y + 1; i < y; i++) {\n\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (this.y > y) {\n\t\t\t\t\t\t\t\tfor (var i = this.y - 1; i > y; i--) {\n\t\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Chariot;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = Chariot;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _general = __webpack_require__(21);\n\t\n\tvar _general2 = _interopRequireDefault(_general);\n\t\n\tvar _guard = __webpack_require__(22);\n\t\n\tvar _guard2 = _interopRequireDefault(_guard);\n\t\n\tvar _staff = __webpack_require__(25);\n\t\n\tvar _staff2 = _interopRequireDefault(_staff);\n\t\n\tvar _horse = __webpack_require__(23);\n\t\n\tvar _horse2 = _interopRequireDefault(_horse);\n\t\n\tvar _chariot = __webpack_require__(19);\n\t\n\tvar _chariot2 = _interopRequireDefault(_chariot);\n\t\n\tvar _cannon = __webpack_require__(18);\n\t\n\tvar _cannon2 = _interopRequireDefault(_cannon);\n\t\n\tvar _soldier = __webpack_require__(24);\n\t\n\tvar _soldier2 = _interopRequireDefault(_soldier);\n\t\n\tvar ChessFactory = {\n\t\tChessTypes: [_general2[\"default\"], _guard2[\"default\"], _staff2[\"default\"], _horse2[\"default\"], _chariot2[\"default\"], _cannon2[\"default\"], _soldier2[\"default\"]],\n\t\n\t\t/**\n\t  * 创建棋子\n\t  * @param data 数组，按照顺序：颜色，类型，横坐标，纵坐标\n\t  * @returns {*}\n\t  */\n\t\tcreateChess: function createChess(data) {\n\t\t\tvar chess = new ChessFactory.ChessTypes[7 - data[1]](data[0], data[1]);\n\t\t\tchess.x = data[2];\n\t\t\tchess.y = data[3];\n\t\t\treturn chess;\n\t\t}\n\t};\n\t\n\texports[\"default\"] = ChessFactory;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar General = (function (_ChessMan) {\n\t\t_inherits(General, _ChessMan);\n\t\n\t\tfunction General(color) {\n\t\t\t_classCallCheck(this, General);\n\t\n\t\t\t_get(Object.getPrototypeOf(General.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].GENERAL);\n\t\t}\n\t\n\t\t_createClass(General, [{\n\t\t\tkey: \"valid\",\n\t\t\tvalue: function valid(x, y) {\n\t\t\t\tvar result = true;\n\t\t\t\tswitch (this.color) {\n\t\t\t\t\tcase _color2[\"default\"].BLACK:\n\t\t\t\t\t\tif (x < 3 || x > 5 || y > 2 && y < 7) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase _color2[\"default\"].RED:\n\t\t\t\t\t\tif (x < 3 || x > 5 || y > 2 && y < 7) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tif (Math.abs(this.y - y) + Math.abs(this.x - x) == 1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (this.x == x) {\n\t\t\t\t\t\tif (this.game.getChess(x, y) && this.game.getChess(x, y).type == _type2[\"default\"].GENERAL) {\n\t\t\t\t\t\t\tvar num = 0;\n\t\t\t\t\t\t\tvar minY = y > this.y ? this.y : y;\n\t\t\t\t\t\t\tvar maxY = y + this.y - minY;\n\t\n\t\t\t\t\t\t\tfor (var i = minY + 1; i < maxY; i++) {\n\t\t\t\t\t\t\t\tif (this.game.getChess(x, i)) {\n\t\t\t\t\t\t\t\t\tnum++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (num == 0) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn General;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = General;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar Guard = (function (_ChessMan) {\n\t\t_inherits(Guard, _ChessMan);\n\t\n\t\tfunction Guard(color) {\n\t\t\t_classCallCheck(this, Guard);\n\t\n\t\t\t_get(Object.getPrototypeOf(Guard.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].GUARD);\n\t\t}\n\t\n\t\t_createClass(Guard, [{\n\t\t\tkey: \"valid\",\n\t\t\tvalue: function valid(x, y) {\n\t\t\t\tswitch (this.color) {\n\t\t\t\t\tcase _color2[\"default\"].BLACK:\n\t\t\t\t\t\tif (x == 3 && y == 0 || x == 3 && y == 2 || x == 5 && y == 0 || x == 5 && y == 2 || x == 4 && y == 1) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase _color2[\"default\"].RED:\n\t\t\t\t\t\tif (x == 3 && y == 7 || x == 3 && y == 9 || x == 5 && y == 7 || x == 5 && y == 9 || x == 4 && y == 8) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tif (Math.abs(this.x - x) > 1 || Math.abs(this.y - y) > 1 || Math.abs(this.x - x) == 0 && Math.abs(this.y - y) == 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Guard;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = Guard;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar Horse = (function (_ChessMan) {\n\t\t_inherits(Horse, _ChessMan);\n\t\n\t\tfunction Horse(color) {\n\t\t\t_classCallCheck(this, Horse);\n\t\n\t\t\t_get(Object.getPrototypeOf(Horse.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].HORSE);\n\t\t}\n\t\n\t\t_createClass(Horse, [{\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tif (Math.abs(this.x - x) == 1 && Math.abs(this.y - y) == 2 || Math.abs(this.x - x) == 2 && Math.abs(this.y - y) == 1) {\n\t\t\t\t\t\tvar i = -1;\n\t\t\t\t\t\tvar j = -1;\n\t\t\t\t\t\tif (x - this.x == 2) {\n\t\t\t\t\t\t\ti = this.x + 1;\n\t\t\t\t\t\t\tj = this.y;\n\t\t\t\t\t\t} else if (this.x - x == 2) {\n\t\t\t\t\t\t\ti = this.x - 1;\n\t\t\t\t\t\t\tj = this.y;\n\t\t\t\t\t\t} else if (y - this.y == 2) {\n\t\t\t\t\t\t\ti = this.x;\n\t\t\t\t\t\t\tj = this.y + 1;\n\t\t\t\t\t\t} else if (this.y - y == 2) {\n\t\t\t\t\t\t\ti = this.x;\n\t\t\t\t\t\t\tj = this.y - 1;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (this.game.isEmpty(i, j)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Horse;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = Horse;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar Soldier = (function (_ChessMan) {\n\t\t_inherits(Soldier, _ChessMan);\n\t\n\t\tfunction Soldier(color) {\n\t\t\t_classCallCheck(this, Soldier);\n\t\n\t\t\t_get(Object.getPrototypeOf(Soldier.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].SOLDIER);\n\t\t}\n\t\n\t\t_createClass(Soldier, [{\n\t\t\tkey: \"valid\",\n\t\t\tvalue: function valid(x, y) {\n\t\t\t\tvar result = true;\n\t\t\t\tswitch (this.color) {\n\t\t\t\t\tcase _color2[\"default\"].BLACK:\n\t\t\t\t\t\tif (y < 3 || y < 5 && x % 2 == 1) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase _color2[\"default\"].RED:\n\t\t\t\t\t\tif (y > 6 || y > 4 && x % 2 == 1) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tvar result = false;\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tresult = true;\n\t\t\t\t\tswitch (this.color) {\n\t\t\t\t\t\tcase _color2[\"default\"].BLACK:\n\t\t\t\t\t\t\tif (y < this.y) {\n\t\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (Math.abs(x - this.x) + y - this.y != 1) {\n\t\t\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase _color2[\"default\"].RED:\n\t\t\t\t\t\t\tif (y > this.y) {\n\t\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (Math.abs(x - this.x) + this.y - y != 1) {\n\t\t\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Soldier;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = Soldier;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = __webpack_require__(7)[\"default\"];\n\t\n\tvar _inherits = __webpack_require__(8)[\"default\"];\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _chessman = __webpack_require__(4);\n\t\n\tvar _chessman2 = _interopRequireDefault(_chessman);\n\t\n\tvar _type = __webpack_require__(6);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _color = __webpack_require__(5);\n\t\n\tvar _color2 = _interopRequireDefault(_color);\n\t\n\tvar Staff = (function (_ChessMan) {\n\t\t_inherits(Staff, _ChessMan);\n\t\n\t\tfunction Staff(color) {\n\t\t\t_classCallCheck(this, Staff);\n\t\n\t\t\t_get(Object.getPrototypeOf(Staff.prototype), \"constructor\", this).call(this, color, _type2[\"default\"].STAFF);\n\t\t}\n\t\n\t\t_createClass(Staff, [{\n\t\t\tkey: \"valid\",\n\t\t\tvalue: function valid(x, y) {\n\t\t\t\tswitch (this.color) {\n\t\t\t\t\tcase _color2[\"default\"].BLACK:\n\t\t\t\t\t\tif (x == 0 && y == 2 || x == 2 && y == 0 || x == 2 && y == 4 || x == 4 && y == 2 || x == 6 && y == 0 || x == 6 && y == 4 || x == 8 && y == 2) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase _color2[\"default\"].RED:\n\t\t\t\t\t\tif (x == 0 && y == 7 || x == 2 && y == 5 || x == 2 && y == 9 || x == 4 && y == 7 || x == 6 && y == 5 || x == 6 && y == 9 || x == 8 && y == 7) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"canGo\",\n\t\t\tvalue: function canGo(x, y) {\n\t\t\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\t\t\tif (Math.abs(this.x - x) != 2 || Math.abs(this.y - y) != 2) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar i = (this.x + x) / 2;\n\t\t\t\t\t\tvar j = (this.y + y) / 2;\n\t\t\t\t\t\tif (this.game.isEmpty(i, j)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Staff;\n\t})(_chessman2[\"default\"]);\n\t\n\texports[\"default\"] = Staff;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _state = __webpack_require__(11);\n\t\n\tvar _state2 = _interopRequireDefault(_state);\n\t\n\tvar _chessType = __webpack_require__(6);\n\t\n\tvar _chessType2 = _interopRequireDefault(_chessType);\n\t\n\tvar _chessFactory = __webpack_require__(20);\n\t\n\tvar _chessFactory2 = _interopRequireDefault(_chessFactory);\n\t\n\tvar _type = __webpack_require__(12);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar Game = (function () {\n\t\tfunction Game() {\n\t\t\t_classCallCheck(this, Game);\n\t\n\t\t\tthis.initialSituation = Game.defaultChesses;\n\t\n\t\t\tthis.state = _state2[\"default\"].UNINITIALIZED;\n\t\n\t\t\tthis.history = [];\n\t\n\t\t\tthis.situation = [];\n\t\n\t\t\tthis.redPlayer = null;\n\t\t\tthis.blackPlayer = null;\n\t\t\tthis.currentPlayer = null;\n\t\n\t\t\tthis.watchers = [];\n\t\n\t\t\tthis.currentChess = null;\n\t\t\tthis.undoList = [];\n\t\t\tthis.redoList = [];\n\t\t\tthis.chessUnderAttack = [];\n\t\n\t\t\tthis.generals = [];\n\t\n\t\t\tthis.chesses = [];\n\t\t\tthis.moveablePlaces = [];\n\t\n\t\t\tthis.loggers = [];\n\t\t}\n\t\n\t\t_createClass(Game, [{\n\t\t\tkey: \"init\",\n\t\t\tvalue: function init() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tfor (var i = 0; i < 9; i++) {\n\t\t\t\t\tthis.situation[i] = [];\n\t\t\t\t}\n\t\n\t\t\t\tthis.initialSituation.forEach(function (it) {\n\t\t\t\t\treturn _this.chesses.push(_this.createChess(it));\n\t\t\t\t});\n\t\t\t\tthis.currentPlayer = this.redPlayer;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"destroy\",\n\t\t\tvalue: function destroy() {\n\t\t\t\tthis.situation = null;\n\t\t\t\tthis.currentChess = null;\n\t\t\t\tthis.undoList = null;\n\t\t\t\tthis.redoList = null;\n\t\t\t\tthis.chessUnderAttack = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"createChess\",\n\t\t\tvalue: function createChess(data) {\n\t\t\t\tvar chess = _chessFactory2[\"default\"].createChess(data);\n\t\t\t\tchess.game = this;\n\t\t\t\tthis.situation[chess.x][chess.y] = chess;\n\t\n\t\t\t\tif (chess.type == _chessType2[\"default\"].GENERAL) {\n\t\t\t\t\tthis.generals.push(chess);\n\t\t\t\t}\n\t\n\t\t\t\treturn chess;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"isFriendly\",\n\t\t\tvalue: function isFriendly(color, x, y) {\n\t\t\t\tif (this.isEmpty(x, y)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\treturn color + this.getChess(x, y).color != 0;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"isEmpty\",\n\t\t\tvalue: function isEmpty(x, y) {\n\t\t\t\treturn !this.situation[x][y];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"getChess\",\n\t\t\tvalue: function getChess(x, y) {\n\t\t\t\treturn this.situation[x][y];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"checkFinish\",\n\t\t\tvalue: function checkFinish() {\n\t\t\t\tif (this.state == _state2[\"default\"].FINISHED) {\n\t\t\t\t\tthis.prompt(\"棋局已终止！\");\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"attack\",\n\t\t\tvalue: function attack(position) {\n\t\t\t\tif (this.checkFinish()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar chess = this.situation[position.x][position.y];\n\t\n\t\t\t\tif (this.currentChess) {\n\t\t\t\t\tif (this.currentChess.color + chess.color == 0) {\n\t\t\t\t\t\tvar canKill = this.chessUnderAttack.filter(function (it) {\n\t\t\t\t\t\t\treturn it.x == chess.x && it.y == chess.y;\n\t\t\t\t\t\t}).length;\n\t\n\t\t\t\t\t\tif (canKill) {\n\t\t\t\t\t\t\tvar step = this.moveChess(this.currentChess, chess.x, chess.y, false);\n\t\t\t\t\t\t\treturn step;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.prompt(\"吃不到这个棋子！\");\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"select\",\n\t\t\tvalue: function select(chess) {\n\t\t\t\tif (this.checkFinish()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (this.currentPlayer.type != _type2[\"default\"].LOCAL) {\n\t\t\t\t\tthis.prompt(\"等待远程棋手落子！\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (chess.color != this.currentPlayer.color) {\n\t\t\t\t\tthis.prompt(\"不该你走！\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tthis.currentChess = chess;\n\t\t\t\tthis.moveablePlaces = [];\n\t\t\t\tthis.chessUnderAttack = [];\n\t\t\t\tfor (var i = 0; i < 9; i++) {\n\t\t\t\t\tfor (var j = 0; j < 10; j++) {\n\t\t\t\t\t\tif (chess.canGo(i, j)) {\n\t\t\t\t\t\t\tif (this.isEmpty(i, j)) {\n\t\t\t\t\t\t\t\tthis.moveablePlaces.push({\n\t\t\t\t\t\t\t\t\tx: i,\n\t\t\t\t\t\t\t\t\ty: j\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.chessUnderAttack.push({\n\t\t\t\t\t\t\t\t\tx: i,\n\t\t\t\t\t\t\t\t\ty: j\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"moveTo\",\n\t\t\tvalue: function moveTo(position) {\n\t\t\t\tvar step = this.moveChess(this.currentChess, position.x, position.y);\n\t\t\t\tthis.moveablePlaces = [];\n\t\t\t\tthis.chessUnderAttack = [];\n\t\n\t\t\t\treturn step;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"moveChess\",\n\t\t\tvalue: function moveChess(chess, newX, newY) {\n\t\t\t\tvar step = {\n\t\t\t\t\tfromX: chess.x,\n\t\t\t\t\tfromY: chess.y,\n\t\t\t\t\ttoX: newX,\n\t\t\t\t\ttoY: newY\n\t\t\t\t};\n\t\n\t\t\t\tthis.executeStep(step);\n\t\n\t\t\t\treturn step;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"check\",\n\t\t\tvalue: function check() {\n\t\t\t\tfor (var i = 0; i < this.generals.length; i++) {\n\t\t\t\t\tfor (var j = 0; j < this.situation.length; j++) {\n\t\t\t\t\t\tfor (var k = 0; k < this.situation[j].length; k++) {\n\t\t\t\t\t\t\tif (this.situation[j][k] && this.situation[j][k].canGo(this.generals[i].x, this.generals[i].y)) {\n\t\t\t\t\t\t\t\tthis.prompt(\"将军！\");\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"prompt\",\n\t\t\tvalue: function prompt(text) {\n\t\t\t\talert(text);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"addLogger\",\n\t\t\tvalue: function addLogger(logger) {\n\t\t\t\tthis.loggers.push(logger);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"log\",\n\t\t\tvalue: function log(step) {\n\t\t\t\tvar chess = this.situation[step.toX][step.toY];\n\t\t\t\tthis.loggers.forEach(function (logger) {\n\t\t\t\t\treturn logger.log(chess, step);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"addWatcher\",\n\t\t\tvalue: function addWatcher(watcher) {\n\t\t\t\tthis.watchers.push(watcher);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"notify\",\n\t\t\tvalue: function notify(step) {\n\t\t\t\tthis.watchers.forEach(function (watcher) {\n\t\t\t\t\treturn watcher.notify(step);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"processHistory\",\n\t\t\tvalue: function processHistory(history) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar newSteps = history.slice(this.history.length, history.length);\n\t\t\t\tvar game = this;\n\t\t\t\tnewSteps.forEach(function (step) {\n\t\t\t\t\treturn _this2.executeStep(step);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"executeStep\",\n\t\t\tvalue: function executeStep(step, isUndo) {\n\t\t\t\tvar chess = this.situation[step.fromX][step.fromY];\n\t\t\t\tvar killedChess = this.situation[step.toX][step.toY];\n\t\t\t\tdelete this.situation[step.fromX][step.fromY];\n\t\t\t\tthis.situation[step.toX][step.toY] = chess;\n\t\t\t\tchess.x = step.toX;\n\t\t\t\tchess.y = step.toY;\n\t\n\t\t\t\tif (killedChess) {\n\t\t\t\t\tthis.chesses = this.chesses.filter(function (it) {\n\t\t\t\t\t\treturn it == killedChess;\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (killedChess.type == _chessType2[\"default\"].GENERAL) {\n\t\t\t\t\t\tvar winner = killedChess.color == Color.RED ? \"黑\" : \"红\";\n\t\t\t\t\t\tthis.prompt(\"结束啦，\" + winner + \"方胜利！\");\n\t\t\t\t\t\tthis.state = _state2[\"default\"].FINISHED;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (isUndo) {\n\t\t\t\t\tif (step.deadColor) {\n\t\t\t\t\t\tvar deadChess = ChessFactory.createChess([step.deadColor, step.deadType, step.fromX, step.fromY]);\n\t\t\t\t\t\tthis.situation[step.fromX][step.fromY] = deadChess;\n\t\n\t\t\t\t\t\tthis.chesses.push(deadChess);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.redoList.push(step);\n\t\t\t\t} else {\n\t\t\t\t\tif (killedChess) {\n\t\t\t\t\t\tstep.deadType = killedChess.type;\n\t\t\t\t\t\tstep.deadColor = killedChess.color;\n\t\t\t\t\t}\n\t\t\t\t\tthis.undoList.push(step);\n\t\t\t\t}\n\t\n\t\t\t\tthis.currentPlayer = this.currentPlayer == this.redPlayer ? this.blackPlayer : this.redPlayer;\n\t\n\t\t\t\tthis.currentChess = null;\n\t\t\t\tthis.moveablePlaces = [];\n\t\t\t\tthis.chessUnderAttack = [];\n\t\n\t\t\t\tthis.history.push(step);\n\t\n\t\t\t\tthis.check();\n\t\n\t\t\t\tthis.log(step);\n\t\n\t\t\t\tthis.notify(step);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"undo\",\n\t\t\tvalue: function undo() {\n\t\t\t\tif (this.undoList.length > 0) {\n\t\t\t\t\tvar step = this.undoList.pop();\n\t\t\t\t\tthis.executeStep(step, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"redo\",\n\t\t\tvalue: function redo() {\n\t\t\t\tif (this.redoList.length > 0) {\n\t\t\t\t\tvar step = this.redoList.pop();\n\t\t\t\t\tthis.executeStep(step);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"serialize\",\n\t\t\tvalue: function serialize() {\n\t\t\t\tvar json = {\n\t\t\t\t\tinitialSituation: this.initialSituation,\n\t\t\t\t\tstate: this.state\n\t\t\t\t};\n\t\n\t\t\t\tif (this.redPlayer) {\n\t\t\t\t\tjson.redPlayer = this.redPlayer.user;\n\t\t\t\t}\n\t\n\t\t\t\tif (this.blackPlayer) {\n\t\t\t\t\tjson.blackPlayer = this.blackPlayer.user;\n\t\t\t\t}\n\t\n\t\t\t\treturn json;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Game;\n\t})();\n\t\n\texports[\"default\"] = Game;\n\t\n\tGame.defaultChesses = [[1, 7, 4, 9], [1, 6, 3, 9], [1, 6, 5, 9], [1, 5, 2, 9], [1, 5, 6, 9], [1, 4, 1, 9], [1, 4, 7, 9], [1, 3, 0, 9], [1, 3, 8, 9], [1, 2, 1, 7], [1, 2, 7, 7], [1, 1, 0, 6], [1, 1, 2, 6], [1, 1, 4, 6], [1, 1, 6, 6], [1, 1, 8, 6], [-1, 7, 4, 0], [-1, 6, 3, 0], [-1, 6, 5, 0], [-1, 5, 2, 0], [-1, 5, 6, 0], [-1, 4, 1, 0], [-1, 4, 7, 0], [-1, 3, 0, 0], [-1, 3, 8, 0], [-1, 2, 1, 2], [-1, 2, 7, 2], [-1, 1, 0, 3], [-1, 1, 2, 3], [-1, 1, 4, 3], [-1, 1, 6, 3], [-1, 1, 8, 3]];\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = __webpack_require__(3)[\"default\"];\n\t\n\tvar _classCallCheck = __webpack_require__(1)[\"default\"];\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar Player = (function () {\n\t\tfunction Player(user, color, type) {\n\t\t\t_classCallCheck(this, Player);\n\t\n\t\t\tthis.game = null;\n\t\t\tthis.user = user;\n\t\t\tthis.color = color;\n\t\t\tthis.type = type;\n\t\t}\n\t\n\t\t_createClass(Player, [{\n\t\t\tkey: \"select\",\n\t\t\tvalue: function select(chess) {\n\t\t\t\tthis.game.select(chess);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"move\",\n\t\t\tvalue: function move(position) {\n\t\t\t\tthis.game.moveTo(position);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"attack\",\n\t\t\tvalue: function attack(position) {\n\t\t\t\tthis.game.attack(position);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Player;\n\t})();\n\t\n\texports[\"default\"] = Player;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(32), __esModule: true };\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(33), __esModule: true };\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(34), __esModule: true };\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(35), __esModule: true };\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(9);\n\tmodule.exports = function create(P, D){\n\t  return $.create(P, D);\n\t};\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(9);\n\tmodule.exports = function defineProperty(it, key, desc){\n\t  return $.setDesc(it, key, desc);\n\t};\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(9);\n\t__webpack_require__(47);\n\tmodule.exports = function getOwnPropertyDescriptor(it, key){\n\t  return $.getDesc(it, key);\n\t};\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(48);\n\tmodule.exports = __webpack_require__(10).Object.setPrototypeOf;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(15);\n\tmodule.exports = function(it){\n\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function(it){\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(36);\n\tmodule.exports = function(fn, that, length){\n\t  aFunction(fn);\n\t  if(that === undefined)return fn;\n\t  switch(length){\n\t    case 1: return function(a){\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function(a, b){\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function(a, b, c){\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  } return function(/* ...args */){\n\t      return fn.apply(that, arguments);\n\t    };\n\t};\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function(it){\n\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar UNDEFINED = 'undefined';\n\tvar global = module.exports = typeof window != UNDEFINED && window.Math == Math\n\t  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// indexed object, fallback for non-array-like ES3 strings\n\tvar cof = __webpack_require__(38);\n\tmodule.exports = 0 in Object('z') ? Object : function(it){\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// most Object methods by ES6 should accept primitives\n\tmodule.exports = function(KEY, exec){\n\t  var $def = __webpack_require__(14)\n\t    , fn   = (__webpack_require__(10).Object || {})[KEY] || Object[KEY]\n\t    , exp  = {};\n\t  exp[KEY] = exec(fn);\n\t  $def($def.S + $def.F * __webpack_require__(41)(function(){ fn(1); }), 'Object', exp);\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Works with __proto__ only. Old v8 can't work with null proto objects.\n\t/* eslint-disable no-proto */\n\tvar getDesc  = __webpack_require__(9).getDesc\n\t  , isObject = __webpack_require__(15)\n\t  , anObject = __webpack_require__(37);\n\tvar check = function(O, proto){\n\t  anObject(O);\n\t  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n\t};\n\tmodule.exports = {\n\t  set: Object.setPrototypeOf || ('__proto__' in {} // eslint-disable-line\n\t    ? function(buggy, set){\n\t        try {\n\t          set = __webpack_require__(39)(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n\t          set({}, []);\n\t        } catch(e){ buggy = true; }\n\t        return function setPrototypeOf(O, proto){\n\t          check(O, proto);\n\t          if(buggy)O.__proto__ = proto;\n\t          else set(O, proto);\n\t          return O;\n\t        };\n\t      }()\n\t    : undefined),\n\t  check: check\n\t};\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\r\n\tvar IObject = __webpack_require__(43)\r\n\t  , defined = __webpack_require__(40);\r\n\tmodule.exports = function(it){\r\n\t  return IObject(defined(it));\r\n\t};\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\tvar toIObject = __webpack_require__(46);\n\t\n\t__webpack_require__(44)('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){\n\t  return function getOwnPropertyDescriptor(it, key){\n\t    return $getOwnPropertyDescriptor(toIObject(it), key);\n\t  };\n\t});\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.3.19 Object.setPrototypeOf(O, proto)\n\tvar $def = __webpack_require__(14);\n\t$def($def.S, 'Object', {setPrototypeOf: __webpack_require__(45).set});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** chess.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 36db4f7be903a2d3e943\n **/","import ChessController from \"./controllers/chess\";\nimport ChessBoardController from \"./controllers/chessboard\";\n\nangular.module(\"chess\", [])\n\t.controller(\"ChessController\", ChessController)\n\t.controller(\"ChessBoardController\", ChessBoardController);\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","\"use strict\";\n\nexports[\"default\"] = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/class-call-check.js\n ** module id = 1\n ** module chunks = 0\n **/","\"use strict\";\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/interop-require-default.js\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _Object$defineProperty = require(\"babel-runtime/core-js/object/define-property\")[\"default\"];\n\nexports[\"default\"] = (function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n\n      _Object$defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/create-class.js\n ** module id = 3\n ** module chunks = 0\n **/","export default class ChessMan {\n\tconstructor(color, type) {\n\t\tthis.game = null;\n\n\t\tthis.color = color;\n\t\tthis.type = type;\n\t\tthis.x = -1;\n\t\tthis.y = -1;\n\n\t\tthis.beAttack = false;\n\t}\n\n\t/**\n\t * 棋子在某位置是否合法，对于不受限制的车，马，炮，这个值始终为真，其他类型需要override这个方法\n\t * @param x\n\t * @param y\n\t * @returns {boolean}\n\t */\n\tvalid(x, y) {\n\t\treturn true;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/chessman.js\n **/","const ChessColor = {\n\tRED: 1,\n\tBLACK: -1,\n\tGREY: 0\n};\n\nexport default ChessColor;\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/color.js\n **/","const ChessType = {\n\tGENERAL: 7,\n\tGUARD: 6,\n\tSTAFF: 5,\n\tHORSE: 4,\n\tCHARIOT: 3,\n\tCANNON: 2,\n\tSOLDIER: 1,\n\tBLANK: 0\n};\n\nexport default ChessType;\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/type.js\n **/","\"use strict\";\n\nvar _Object$getOwnPropertyDescriptor = require(\"babel-runtime/core-js/object/get-own-property-descriptor\")[\"default\"];\n\nexports[\"default\"] = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    desc = parent = getter = undefined;\n    _again = false;\n    if (object === null) object = Function.prototype;\n\n    var desc = _Object$getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        continue _function;\n      }\n    } else if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/get.js\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/inherits.js\n ** module id = 8\n ** module chunks = 0\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.js\n ** module id = 9\n ** module chunks = 0\n **/","var core = module.exports = {};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.core.js\n ** module id = 10\n ** module chunks = 0\n **/","const GameState = {\n\tUNINITIALIZED: -1,\n\tFINISHED: 0,\n\tREADY: 1,\n\tACTING: 2\n};\n\nexport default GameState;\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/state.js\n **/","const PlayerType = {\n\tLOCAL: 0,\n\tREMOTE: 1\n};\n\nexport default PlayerType;\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/type.js\n **/","\"use strict\";\n\nexport default class Setting {\n}\n\nSetting.offsetX = 40;\nSetting.offsetY = 40;\nSetting.gridSize = 60;\n\n\n/** WEBPACK FOOTER **\n ** ./src/setting.js\n **/","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , PROTOTYPE = 'prototype';\nvar ctx = function(fn, that){\n  return function(){\n    return fn.apply(that, arguments);\n  };\n};\nvar $def = function(type, name, source){\n  var key, own, out, exp\n    , isGlobal = type & $def.G\n    , isProto  = type & $def.P\n    , target   = isGlobal ? global : type & $def.S\n        ? global[name] : (global[name] || {})[PROTOTYPE]\n    , exports  = isGlobal ? core : core[name] || (core[name] = {});\n  if(isGlobal)source = name;\n  for(key in source){\n    // contains in native\n    own = !(type & $def.F) && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    if(isGlobal && typeof target[key] != 'function')exp = source[key];\n    // bind timers to global for call from export context\n    else if(type & $def.B && own)exp = ctx(out, global);\n    // wrap global constructors for prevent change them in library\n    else if(type & $def.W && target[key] == out)!function(C){\n      exp = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      exp[PROTOTYPE] = C[PROTOTYPE];\n    }(out);\n    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export\n    exports[key] = exp;\n    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$def.F = 1;  // forced\n$def.G = 2;  // global\n$def.S = 4;  // static\n$def.P = 8;  // proto\n$def.B = 16; // bind\n$def.W = 32; // wrap\nmodule.exports = $def;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.def.js\n ** module id = 14\n ** module chunks = 0\n **/","// http://jsperf.com/core-js-isobject\nmodule.exports = function(it){\n  return it !== null && (typeof it == 'object' || typeof it == 'function');\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.is-object.js\n ** module id = 15\n ** module chunks = 0\n **/","import Color from \"../models/chess/chess/color\";\nimport State from \"../models/chess/state\";\nimport PlayerType from \"../models/chess/type\";\nimport Game from \"../models/chess/game\";\nimport Player from \"../models/chess/player\";\n\nimport Setting from \"../setting\";\n\nexport default class ChessController {\n\n\tconstructor($scope) {\n\t\t$scope.games = [];\n\n\t\t$scope.createGame = () => {\n\t\t\tlet game = new Game();\n\n\t\t\tlet redPlayer = new Player(\"Local Player 1\", Color.RED, PlayerType.LOCAL);\n\t\t\tredPlayer.game = game;\n\t\t\tgame.redPlayer = redPlayer;\n\n\t\t\tlet blackPlayer = new Player(\"Local Player 2\", Color.BLACK, PlayerType.LOCAL);\n\t\t\tblackPlayer.game = game;\n\t\t\tgame.blackPlayer = blackPlayer;\n\n\t\t\tgame.init();\n\n\t\t\t//game.addLogger(ConsoleLogger);\n\t\t\t$scope.games.push(game);\n\t\t};\n\n\t\t$scope.chessX = chess => (Setting.offsetX + chess.x * Setting.gridSize);\n\t\t$scope.chessY = chess => (Setting.offsetY + chess.y * Setting.gridSize);\n\n\t\t$scope.canGoX = chess => (Setting.offsetX + (chess.x - 0.5) * Setting.gridSize);\n\t\t$scope.canGoY = chess => (Setting.offsetY + (chess.y - 0.5) * Setting.gridSize);\n\n\t\t$scope.canAttackX = chess => (Setting.offsetX + (chess.x - 0.5) * Setting.gridSize);\n\t\t$scope.canAttackY = chess => (Setting.offsetY + (chess.y - 0.5) * Setting.gridSize);\n\t\t\n\t\t$scope.select = (game, chess) => game.currentPlayer.select(chess);\n\t\t$scope.move = (game, position) => game.currentPlayer.move(position);\n\t\t$scope.attack = (game, position) => game.currentPlayer.attack(position);\n\n\t\tlet colors = {\n\t\t\t\"1\": \"red\",\n\t\t\t\"0\": \"\",\n\t\t\t\"-1\": \"black\"\n\t\t};\n\n\t\tlet types = [\"blank\", \"soldier\", \"cannon\", \"chariot\", \"horse\", \"staff\", \"guard\", \"general\"];\n\n\t\t$scope.symbol = chess => (\"#\" + colors[chess.color] + \"-\" + types[chess.type]);\n\t}\n}\n\nChessController.$inject = [\"$scope\"];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/chess.js\n **/","import Setting from \"../setting\";\n\nexport default class ChessBoardController {\n\tconstructor($scope) {\n\t\t$scope.offsetX = Setting.offsetX;\n\t\t$scope.offsetY = Setting.offsetY;\n\t\t$scope.gridSize = Setting.gridSize;\n\t\t$scope.pathArr = [];\n\n\t\tinit();\n\n\t\tfunction init() {\n\t\t\tlet pathArr = [];\n\n\t\t\t// 横线\n\t\t\tfor (let i = 1; i < 9; i++) {\n\t\t\t\tpathArr.push(drawLine(0, i, 8, i));\n\t\t\t}\n\n\t\t\t// 竖线\n\t\t\tfor (let i = 1; i < 8; i++) {\n\t\t\t\tpathArr.push(drawLine(i, 0, i, 4));\n\t\t\t\tpathArr.push(drawLine(i, 5, i, 9));\n\t\t\t}\n\n\t\t\t// 九宫格的线\n\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\tfor (let j = 0; j < 2; j++) {\n\t\t\t\t\tpathArr.push(drawLine(3 + 2 * i, 7 * j, 5 - 2 * i, 2 + 7 * j));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 炮位\n\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\tfor (let j = 0; j < 2; j++) {\n\t\t\t\t\tpathArr = pathArr.concat(drawStar(1 + i * 6, 2 + j * 5));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 兵位\n\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\tfor (let j = 0; j < 2; j++) {\n\t\t\t\t\tpathArr = pathArr.concat(drawStar(i * 2, 3 + j * 3));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.pathArr = pathArr;\n\t\t}\n\n\t\t// 生成线的路径\n\t\tfunction drawLine(x1, y1, x2, y2) {\n\t\t\treturn \"M\" + (Setting.offsetX + x1 * Setting.gridSize) + \",\" + (Setting.offsetY + y1 * Setting.gridSize)\n\t\t\t\t+ \" L\" + (Setting.offsetX + x2 * Setting.gridSize) + \",\" + (Setting.offsetY + y2 * Setting.gridSize);\n\t\t}\n\n\t\t// 生成十字花\n\t\tfunction drawStar (x, y) {\n\t\t\tlet arr = [];\n\t\t\tlet distance = 1 / 10;\n\t\t\tlet length = 1 / 4;\n\n\t\t\tlet startX, startY, endX, endY;\n\n\t\t\t// 左边画一半\n\t\t\tif (x != 0) {\n\t\t\t\tstartX = x - distance;\n\t\t\t\tstartY = y - distance - length;\n\t\t\t\tendX = x - distance - length;\n\t\t\t\tendY = y - distance;\n\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\n\t\t\t\tstartY = y + distance + length;\n\t\t\t\tendY = y + distance;\n\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\t\t\t}\n\n\t\t\t// 右边画一半\n\t\t\tif (x != 8) {\n\t\t\t\tstartX = x + distance;\n\t\t\t\tstartY = y - distance - length;\n\t\t\t\tendX = x + distance + length;\n\t\t\t\tendY = y - distance;\n\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\n\t\t\t\tstartY = y + distance + length;\n\t\t\t\tendY = y + distance;\n\n\t\t\t\tarr.push(drawLine(startX, startY, startX, endY));\n\t\t\t\tarr.push(drawLine(startX, endY, endX, endY));\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\t}\n}\n\nChessBoardController.$inject = [\"$scope\"];\n\n\n/** WEBPACK FOOTER **\n ** ./src/controllers/chessboard.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class Cannon extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.CANNON);\n\t}\n\n\tcanGo(x, y) {\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tif ((this.x != x) && (this.y != y)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this.game.isEmpty(x, y)) {\n\t\t\t\t\tif (this.y == y) {\n\t\t\t\t\t\tif (this.x < x) {\n\t\t\t\t\t\t\tfor (let i = this.x + 1; i < x; i++) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.x > x) {\n\t\t\t\t\t\t\tfor (let i = this.x - 1; i > x; i--) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (this.y < y) {\n\t\t\t\t\t\t\tfor (let i = this.y + 1; i < y; i++) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.y > y) {\n\t\t\t\t\t\t\tfor (let i = this.y - 1; i > y; i--) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet count = 0;\n\n\t\t\t\t\tif (this.y == y) {\n\t\t\t\t\t\tif (this.x < x) {\n\t\t\t\t\t\t\tfor (let i = this.x + 1; i < x; i++) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.x > x) {\n\t\t\t\t\t\t\tfor (let i = this.x - 1; i > x; i--) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (this.y < y) {\n\t\t\t\t\t\t\tfor (let i = this.y + 1; i < y; i++) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.y > y) {\n\t\t\t\t\t\t\tfor (let i = this.y - 1; i > y; i--) {\n\t\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count == 1) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/cannon.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class Chariot extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.CHARIOT);\n\t}\n\n\tcanGo(x, y) {\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tif ((this.x != x) && (this.y != y)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this.y == y) {\n\t\t\t\t\tif (this.x < x) {\n\t\t\t\t\t\tfor (let i = this.x + 1; i < x; i++) {\n\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.x > x) {\n\t\t\t\t\t\tfor (let i = this.x - 1; i > x; i--) {\n\t\t\t\t\t\t\tif (!this.game.isEmpty(i, this.y)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (this.y < y) {\n\t\t\t\t\t\tfor (let i = this.y + 1; i < y; i++) {\n\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.y > y) {\n\t\t\t\t\t\tfor (let i = this.y - 1; i > y; i--) {\n\t\t\t\t\t\t\tif (!this.game.isEmpty(this.x, i)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/chariot.js\n **/","import ChessMan from \"./chessman\";\nimport General from \"./general\";\nimport Guard from \"./guard\";\nimport Staff from \"./staff\";\nimport Horse from \"./horse\";\nimport Chariot from \"./chariot\";\nimport Cannon from \"./cannon\";\nimport Soldier from \"./soldier\";\n\nconst ChessFactory = {\n\tChessTypes: [General, Guard, Staff, Horse, Chariot, Cannon, Soldier],\n\n\t/**\n\t * 创建棋子\n\t * @param data 数组，按照顺序：颜色，类型，横坐标，纵坐标\n\t * @returns {*}\n\t */\n\tcreateChess (data) {\n\t\tlet chess = new (ChessFactory.ChessTypes[7 - data[1]])(data[0], data[1]);\n\t\tchess.x = data[2];\n\t\tchess.y = data[3];\n\t\treturn chess;\n\t}\n};\n\nexport default ChessFactory;\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/factory.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class General extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.GENERAL);\n\t}\n\n\tvalid(x, y) {\n\t\tlet result = true;\n\t\tswitch (this.color) {\n\t\t\tcase ChessColor.BLACK:\n\t\t\t\tif ((x < 3) || (x > 5) || ((y > 2) && (y < 7))) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ChessColor.RED:\n\t\t\t\tif ((x < 3) || (x > 5) || ((y > 2) && (y < 7))) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresult = true;\n\t\t}\n\t\treturn result;\n\t}\n\n\tcanGo(x, y) {\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tif (Math.abs(this.y - y) + Math.abs(this.x - x) == 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (this.x == x) {\n\t\t\t\tif (this.game.getChess(x, y) && (this.game.getChess(x, y).type == ChessType.GENERAL)) {\n\t\t\t\t\tlet num = 0;\n\t\t\t\t\tlet minY = y > this.y ? this.y : y;\n\t\t\t\t\tlet maxY = y + this.y - minY;\n\n\t\t\t\t\tfor (let i = minY + 1; i < maxY; i++) {\n\t\t\t\t\t\tif (this.game.getChess(x, i)) {\n\t\t\t\t\t\t\tnum++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (num == 0) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/general.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class Guard extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.GUARD);\n\t}\n\n\tvalid(x, y) {\n\t\tswitch (this.color) {\n\t\t\tcase ChessColor.BLACK:\n\t\t\t\tif (((x == 3) && (y == 0))\n\t\t\t\t\t|| ((x == 3) && (y == 2))\n\t\t\t\t\t|| ((x == 5) && (y == 0))\n\t\t\t\t\t|| ((x == 5) && (y == 2))\n\t\t\t\t\t|| ((x == 4) && (y == 1))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ChessColor.RED:\n\t\t\t\tif (((x == 3) && (y == 7))\n\t\t\t\t\t|| ((x == 3) && (y == 9))\n\t\t\t\t\t|| ((x == 5) && (y == 7))\n\t\t\t\t\t|| ((x == 5) && (y == 9))\n\t\t\t\t\t|| ((x == 4) && (y == 8))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tcanGo(x, y) {\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tif ((Math.abs(this.x - x) > 1)\n\t\t\t\t|| (Math.abs(this.y - y) > 1)\n\t\t\t\t|| ((Math.abs(this.x - x) == 0)\n\t\t\t\t&& (Math.abs(this.y - y) == 0))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/guard.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class Horse extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.HORSE);\n\t}\n\n\tcanGo(x, y) {\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tif (((Math.abs(this.x - x) == 1)\n\t\t\t\t&& (Math.abs(this.y - y) == 2))\n\t\t\t\t|| ((Math.abs(this.x - x) == 2)\n\t\t\t\t&& (Math.abs(this.y - y) == 1))) {\n\t\t\t\tlet i = -1;\n\t\t\t\tlet j = -1;\n\t\t\t\tif (x - this.x == 2) {\n\t\t\t\t\ti = this.x + 1;\n\t\t\t\t\tj = this.y;\n\t\t\t\t}\n\t\t\t\telse if (this.x - x == 2) {\n\t\t\t\t\ti = this.x - 1;\n\t\t\t\t\tj = this.y;\n\t\t\t\t}\n\t\t\t\telse if (y - this.y == 2) {\n\t\t\t\t\ti = this.x;\n\t\t\t\t\tj = this.y + 1;\n\t\t\t\t}\n\t\t\t\telse if (this.y - y == 2) {\n\t\t\t\t\ti = this.x;\n\t\t\t\t\tj = this.y - 1;\n\t\t\t\t}\n\n\t\t\t\tif (this.game.isEmpty(i, j)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/horse.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class Soldier extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.SOLDIER);\n\t}\n\n\tvalid(x, y) {\n\t\tlet result = true;\n\t\tswitch (this.color) {\n\t\t\tcase ChessColor.BLACK:\n\t\t\t\tif ((y < 3)\n\t\t\t\t\t|| ((y < 5) && (x % 2 == 1))) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ChessColor.RED:\n\t\t\t\tif ((y > 6)\n\t\t\t\t\t|| ((y > 4) && (x % 2 == 1))) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresult = true;\n\t\t}\n\t\treturn result;\n\t}\n\n\tcanGo(x, y) {\n\t\tlet result = false;\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tresult = true;\n\t\t\tswitch (this.color) {\n\t\t\t\tcase ChessColor.BLACK:\n\t\t\t\t\tif (y < this.y) {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (Math.abs(x - this.x) + y - this.y != 1) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ChessColor.RED:\n\t\t\t\t\tif (y > this.y) {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (Math.abs(x - this.x) + this.y - y != 1) {\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/soldier.js\n **/","import ChessMan from \"./chessman\";\nimport ChessType from \"./type\";\nimport ChessColor from \"./color\";\n\nexport default class Staff extends ChessMan {\n\tconstructor(color) {\n\t\tsuper(color, ChessType.STAFF);\n\t}\n\n\tvalid(x, y) {\n\t\tswitch (this.color) {\n\t\t\tcase ChessColor.BLACK:\n\t\t\t\tif (((x == 0) && (y == 2))\n\t\t\t\t\t|| ((x == 2) && (y == 0))\n\t\t\t\t\t|| ((x == 2) && (y == 4))\n\t\t\t\t\t|| ((x == 4) && (y == 2))\n\t\t\t\t\t|| ((x == 6) && (y == 0))\n\t\t\t\t\t|| ((x == 6) && (y == 4))\n\t\t\t\t\t|| ((x == 8) && (y == 2))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ChessColor.RED:\n\t\t\t\tif (((x == 0) && (y == 7))\n\t\t\t\t\t|| ((x == 2) && (y == 5))\n\t\t\t\t\t|| ((x == 2) && (y == 9))\n\t\t\t\t\t|| ((x == 4) && (y == 7))\n\t\t\t\t\t|| ((x == 6) && (y == 5))\n\t\t\t\t\t|| ((x == 6) && (y == 9))\n\t\t\t\t\t|| ((x == 8) && (y == 7))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tcanGo(x, y) {\n\t\tif (this.valid(x, y) && !this.game.isFriendly(this.color, x, y)) {\n\t\t\tif ((Math.abs(this.x - x) != 2)\n\t\t\t\t|| (Math.abs(this.y - y) != 2)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet i = (this.x + x) / 2;\n\t\t\t\tlet j = (this.y + y) / 2;\n\t\t\t\tif (this.game.isEmpty(i, j)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/chess/staff.js\n **/","import GameState from \"./state\";\nimport ChessType from \"./chess/type\";\nimport Factory from \"./chess/factory\";\nimport PlayerType from \"./type\";\n\nexport default class Game {\n\tconstructor() {\n\t\tthis.initialSituation = Game.defaultChesses;\n\n\t\tthis.state = GameState.UNINITIALIZED;\n\n\t\tthis.history = [];\n\n\t\tthis.situation = [];\n\n\t\tthis.redPlayer = null;\n\t\tthis.blackPlayer = null;\n\t\tthis.currentPlayer = null;\n\n\t\tthis.watchers = [];\n\n\t\tthis.currentChess = null;\n\t\tthis.undoList = [];\n\t\tthis.redoList = [];\n\t\tthis.chessUnderAttack = [];\n\n\t\tthis.generals = [];\n\n\t\tthis.chesses = [];\n\t\tthis.moveablePlaces = [];\n\n\t\tthis.loggers = [];\n\t}\n\n\tinit() {\n\t\tfor (let i = 0; i < 9; i++) {\n\t\t\tthis.situation[i] = [];\n\t\t}\n\n\t\tthis.initialSituation.forEach(it => this.chesses.push(this.createChess(it)));\n\t\tthis.currentPlayer = this.redPlayer;\n\t}\n\n\tdestroy() {\n\t\tthis.situation = null;\n\t\tthis.currentChess = null;\n\t\tthis.undoList = null;\n\t\tthis.redoList = null;\n\t\tthis.chessUnderAttack = null;\n\t}\n\n\tcreateChess(data) {\n\t\tlet chess = Factory.createChess(data);\n\t\tchess.game = this;\n\t\tthis.situation[chess.x][chess.y] = chess;\n\n\t\tif (chess.type == ChessType.GENERAL) {\n\t\t\tthis.generals.push(chess);\n\t\t}\n\n\t\treturn chess;\n\t}\n\n\tisFriendly(color, x, y) {\n\t\tif (this.isEmpty(x, y)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn color + this.getChess(x, y).color != 0;\n\t}\n\n\tisEmpty(x, y) {\n\t\treturn !this.situation[x][y];\n\t}\n\n\tgetChess(x, y) {\n\t\treturn this.situation[x][y];\n\t}\n\n\tcheckFinish() {\n\t\tif (this.state == GameState.FINISHED) {\n\t\t\tthis.prompt(\"棋局已终止！\");\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tattack(position) {\n\t\tif (this.checkFinish()) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet chess = this.situation[position.x][position.y];\n\n\t\tif (this.currentChess) {\n\t\t\tif (this.currentChess.color + chess.color == 0) {\n\t\t\t\tlet canKill = this.chessUnderAttack.filter(it => (it.x == chess.x) && (it.y == chess.y)).length;\n\n\t\t\t\tif (canKill) {\n\t\t\t\t\tlet step = this.moveChess(this.currentChess, chess.x, chess.y, false);\n\t\t\t\t\treturn step;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.prompt(\"吃不到这个棋子！\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tselect(chess) {\n\t\tif (this.checkFinish()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.currentPlayer.type != PlayerType.LOCAL) {\n\t\t\tthis.prompt(\"等待远程棋手落子！\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (chess.color != this.currentPlayer.color) {\n\t\t\tthis.prompt(\"不该你走！\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentChess = chess;\n\t\tthis.moveablePlaces = [];\n\t\tthis.chessUnderAttack = [];\n\t\tfor (let i = 0; i < 9; i++) {\n\t\t\tfor (let j = 0; j < 10; j++) {\n\t\t\t\tif (chess.canGo(i, j)) {\n\t\t\t\t\tif (this.isEmpty(i, j)) {\n\t\t\t\t\t\tthis.moveablePlaces.push({\n\t\t\t\t\t\t\tx: i,\n\t\t\t\t\t\t\ty: j\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.chessUnderAttack.push({\n\t\t\t\t\t\t\tx: i,\n\t\t\t\t\t\t\ty: j\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveTo(position) {\n\t\tlet step = this.moveChess(this.currentChess, position.x, position.y);\n\t\tthis.moveablePlaces = [];\n\t\tthis.chessUnderAttack = [];\n\n\t\treturn step;\n\t}\n\n\tmoveChess(chess, newX, newY) {\n\t\tlet step = {\n\t\t\tfromX: chess.x,\n\t\t\tfromY: chess.y,\n\t\t\ttoX: newX,\n\t\t\ttoY: newY\n\t\t};\n\n\t\tthis.executeStep(step);\n\n\t\treturn step;\n\t}\n\n\tcheck() {\n\t\tfor (let i = 0; i < this.generals.length; i++) {\n\t\t\tfor (let j = 0; j < this.situation.length; j++) {\n\t\t\t\tfor (let k = 0; k < this.situation[j].length; k++) {\n\t\t\t\t\tif (this.situation[j][k] && this.situation[j][k].canGo(this.generals[i].x, this.generals[i].y)) {\n\t\t\t\t\t\tthis.prompt(\"将军！\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprompt(text) {\n\t\talert(text);\n\t}\n\n\taddLogger(logger) {\n\t\tthis.loggers.push(logger);\n\t}\n\n\tlog(step) {\n\t\tlet chess = this.situation[step.toX][step.toY];\n\t\tthis.loggers.forEach(logger => logger.log(chess, step));\n\t}\n\n\taddWatcher(watcher) {\n\t\tthis.watchers.push(watcher);\n\t}\n\n\tnotify(step) {\n\t\tthis.watchers.forEach(watcher => watcher.notify(step));\n\t}\n\n\tprocessHistory(history) {\n\t\tlet newSteps = history.slice(this.history.length, history.length);\n\t\tlet game = this;\n\t\tnewSteps.forEach(step => this.executeStep(step));\n\t}\n\n\texecuteStep(step, isUndo) {\n\t\tlet chess = this.situation[step.fromX][step.fromY];\n\t\tlet killedChess = this.situation[step.toX][step.toY];\n\t\tdelete this.situation[step.fromX][step.fromY];\n\t\tthis.situation[step.toX][step.toY] = chess;\n\t\tchess.x = step.toX;\n\t\tchess.y = step.toY;\n\n\t\tif (killedChess) {\n\t\t\tthis.chesses = this.chesses.filter(it => it == killedChess);\n\n\t\t\tif (killedChess.type == ChessType.GENERAL) {\n\t\t\t\tlet winner = (killedChess.color == Color.RED) ? \"黑\" : \"红\";\n\t\t\t\tthis.prompt(\"结束啦，\" + winner + \"方胜利！\");\n\t\t\t\tthis.state = GameState.FINISHED;\n\t\t\t}\n\t\t}\n\n\t\tif (isUndo) {\n\t\t\tif (step.deadColor) {\n\t\t\t\tlet deadChess = ChessFactory.createChess([step.deadColor, step.deadType, step.fromX, step.fromY]);\n\t\t\t\tthis.situation[step.fromX][step.fromY] = deadChess;\n\n\t\t\t\tthis.chesses.push(deadChess);\n\t\t\t}\n\n\t\t\tthis.redoList.push(step);\n\t\t}\n\t\telse {\n\t\t\tif (killedChess) {\n\t\t\t\tstep.deadType = killedChess.type;\n\t\t\t\tstep.deadColor = killedChess.color;\n\t\t\t}\n\t\t\tthis.undoList.push(step);\n\t\t}\n\n\t\tthis.currentPlayer = (this.currentPlayer == this.redPlayer) ? this.blackPlayer : this.redPlayer;\n\n\t\tthis.currentChess = null;\n\t\tthis.moveablePlaces = [];\n\t\tthis.chessUnderAttack = [];\n\n\t\tthis.history.push(step);\n\n\t\tthis.check();\n\n\t\tthis.log(step);\n\n\t\tthis.notify(step);\n\t}\n\n\tundo() {\n\t\tif (this.undoList.length > 0) {\n\t\t\tlet step = this.undoList.pop();\n\t\t\tthis.executeStep(step, true);\n\t\t}\n\t}\n\n\tredo() {\n\t\tif (this.redoList.length > 0) {\n\t\t\tlet step = this.redoList.pop();\n\t\t\tthis.executeStep(step);\n\t\t}\n\t}\n\n\tserialize() {\n\t\tlet json = {\n\t\t\tinitialSituation: this.initialSituation,\n\t\t\tstate: this.state\n\t\t};\n\n\t\tif (this.redPlayer) {\n\t\t\tjson.redPlayer = this.redPlayer.user;\n\t\t}\n\n\t\tif (this.blackPlayer) {\n\t\t\tjson.blackPlayer = this.blackPlayer.user;\n\t\t}\n\n\t\treturn json;\n\t}\n}\n\n\nGame.defaultChesses = [\n\t[1, 7, 4, 9],\n\t[1, 6, 3, 9],\n\t[1, 6, 5, 9],\n\t[1, 5, 2, 9],\n\t[1, 5, 6, 9],\n\t[1, 4, 1, 9],\n\t[1, 4, 7, 9],\n\t[1, 3, 0, 9],\n\t[1, 3, 8, 9],\n\t[1, 2, 1, 7],\n\t[1, 2, 7, 7],\n\t[1, 1, 0, 6],\n\t[1, 1, 2, 6],\n\t[1, 1, 4, 6],\n\t[1, 1, 6, 6],\n\t[1, 1, 8, 6],\n\n\t[-1, 7, 4, 0],\n\t[-1, 6, 3, 0],\n\t[-1, 6, 5, 0],\n\t[-1, 5, 2, 0],\n\t[-1, 5, 6, 0],\n\t[-1, 4, 1, 0],\n\t[-1, 4, 7, 0],\n\t[-1, 3, 0, 0],\n\t[-1, 3, 8, 0],\n\t[-1, 2, 1, 2],\n\t[-1, 2, 7, 2],\n\t[-1, 1, 0, 3],\n\t[-1, 1, 2, 3],\n\t[-1, 1, 4, 3],\n\t[-1, 1, 6, 3],\n\t[-1, 1, 8, 3]\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/game.js\n **/","export default class Player {\n\tconstructor(user, color, type) {\n\t\tthis.game = null;\n\t\tthis.user = user;\n\t\tthis.color = color;\n\t\tthis.type = type;\n\t}\n\n\tselect(chess) {\n\t\tthis.game.select(chess);\n\t}\n\n\tmove(position) {\n\t\tthis.game.moveTo(position);\n\t}\n\n\tattack(position) {\n\t\tthis.game.attack(position);\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/chess/player.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/create.js\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-property.js\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/get-own-property-descriptor.js\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/set-prototype-of.js\n ** module id = 31\n ** module chunks = 0\n **/","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/create.js\n ** module id = 32\n ** module chunks = 0\n **/","var $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/define-property.js\n ** module id = 33\n ** module chunks = 0\n **/","var $ = require('../../modules/$');\nrequire('../../modules/es6.object.get-own-property-descriptor');\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $.getDesc(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/get-own-property-descriptor.js\n ** module id = 34\n ** module chunks = 0\n **/","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/set-prototype-of.js\n ** module id = 35\n ** module chunks = 0\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.a-function.js\n ** module id = 36\n ** module chunks = 0\n **/","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.an-object.js\n ** module id = 37\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.cof.js\n ** module id = 38\n ** module chunks = 0\n **/","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  } return function(/* ...args */){\n      return fn.apply(that, arguments);\n    };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.ctx.js\n ** module id = 39\n ** module chunks = 0\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.defined.js\n ** module id = 40\n ** module chunks = 0\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.fails.js\n ** module id = 41\n ** module chunks = 0\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar UNDEFINED = 'undefined';\nvar global = module.exports = typeof window != UNDEFINED && window.Math == Math\n  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.global.js\n ** module id = 42\n ** module chunks = 0\n **/","// indexed object, fallback for non-array-like ES3 strings\nvar cof = require('./$.cof');\nmodule.exports = 0 in Object('z') ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iobject.js\n ** module id = 43\n ** module chunks = 0\n **/","// most Object methods by ES6 should accept primitives\nmodule.exports = function(KEY, exec){\n  var $def = require('./$.def')\n    , fn   = (require('./$.core').Object || {})[KEY] || Object[KEY]\n    , exp  = {};\n  exp[KEY] = exec(fn);\n  $def($def.S + $def.F * require('./$.fails')(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.object-sap.js\n ** module id = 44\n ** module chunks = 0\n **/","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} // eslint-disable-line\n    ? function(buggy, set){\n        try {\n          set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n          set({}, []);\n        } catch(e){ buggy = true; }\n        return function setPrototypeOf(O, proto){\n          check(O, proto);\n          if(buggy)O.__proto__ = proto;\n          else set(O, proto);\n          return O;\n        };\n      }()\n    : undefined),\n  check: check\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.set-proto.js\n ** module id = 45\n ** module chunks = 0\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\r\nvar IObject = require('./$.iobject')\r\n  , defined = require('./$.defined');\r\nmodule.exports = function(it){\r\n  return IObject(defined(it));\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.to-iobject.js\n ** module id = 46\n ** module chunks = 0\n **/","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./$.to-iobject');\n\nrequire('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.object.get-own-property-descriptor.js\n ** module id = 47\n ** module chunks = 0\n **/","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $def = require('./$.def');\n$def($def.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.object.set-prototype-of.js\n ** module id = 48\n ** module chunks = 0\n **/"],"sourceRoot":""}